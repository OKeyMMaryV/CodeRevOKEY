
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	бит_РаботаСДиалогамиСервер.ФормаОбъектаПриСозданииНаСервере(Отказ, СтандартнаяОбработка, ЭтаФорма, Объект);

	// Получим описание регистров конфигурации
	бит_МеханизмХозяйственныхОперацийСервер.ЗаполнитьОписаниеРегистровКонфигурации(фОписаниеДоступныхРегистров);
	
	// Заполним списки выбора регистров
	ЗаполнитьСпискиЗначенийЭлементов();
	
КонецПроцедуры // ПриСозданииНаСервере()

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура НаименованиеПриИзменении(Элемент)
	
	// В любом случае очистим вид и имя регистра.
	Объект.ИмяРегистра = "";
	Объект.ВидРегистра = "";
	
	Если СокрЛП(Объект.Наименование) = "" Тогда
		Возврат;
	КонецЕсли;
	
	// Автоматически заполним имя и вид регистра, в соответствии с таблицей описания регистров.
	СтрокаОписание = фОписаниеДоступныхРегистров.НайтиСтроки(Новый Структура("Синоним", Объект.Наименование));
	
	Если СтрокаОписание.Количество() = 0 Тогда
		Возврат;
	КонецЕсли;
	
	Объект.ИмяРегистра = СтрокаОписание[0].ИмяРегистра;
	Объект.ВидРегистра = СтрокаОписание[0].ВидРегистра;
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

// Заполняет списки значений элементов управления формы элемента.
// 
&НаСервере
Процедура ЗаполнитьСпискиЗначенийЭлементов()
	
	// Список доступных регистров
	ТабСинонимов = фОписаниеДоступныхРегистров.Выгрузить(,"Синоним");
	МассивСинонимовРегистров = ТабСинонимов.ВыгрузитьКолонку("Синоним");
	Элементы.Наименование.СписокВыбора.ЗагрузитьЗначения(МассивСинонимовРегистров);
	
КонецПроцедуры

#КонецОбласти