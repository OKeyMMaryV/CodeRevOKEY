#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПередЗаписью(Отказ)
    
    Если ОбменДанными.Загрузка Тогда
		// В случае выполнения обмена данными не производить проверку.
		Возврат;			
	КонецЕсли; 
		
	бит_ук_СлужебныйСервер.РегистрацияНачалоСобытия(Отказ, ЭтотОбъект.ДополнительныеСвойства);
    
    // Если это установка/снятие пометки удаления, тогда.
    Если Ссылка.ПометкаУдаления <> ПометкаУдаления Тогда
        Возврат;
	КонецЕсли;
	
	РасширениеФайла	  = бит_ХранениеДополнительнойИнформации.ПолучитьРасширениеФайла(ИмяФайла);
	ИндексПиктограммы = бит_ХранениеДополнительнойИнформации.ПолучитьИндексПиктограммыФайла(РасширениеФайла);
	
КонецПроцедуры // ПередЗаписью()
	
Процедура ПриЗаписи(Отказ)
		
	Если ОбменДанными.Загрузка Тогда
		// В случае выполнения обмена данными не производить проверку.
		Возврат;			
	КонецЕсли; 
		
	бит_ук_СлужебныйСервер.РегистрацияПриЗаписи(Отказ, ЭтотОбъект.ДополнительныеСвойства, Метаданные().ПолноеИмя());
		
КонецПроцедуры // ПриЗаписи()

#КонецОбласти

#КонецЕсли
