
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("Группа") Тогда
		ГруппаСтатейБюджета = Параметры.Группа;
		
		Если Параметры.Группа <> Неопределено Тогда
			ГруппаСтатейОборотов = Параметры.Группа.СтатьяОборотов;
		КонецЕсли;
		
	КонецЕсли; 
	
	Если Параметры.Свойство("Бюджет")  Тогда
		Бюджет = Параметры.Бюджет;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Выполнение(Команда)
		
	Если ПроверитьЗаполнение() Тогда
		ЗаполнитьПоСтатьеОборотов();
		ОповеститьОбИзменении(Тип("СправочникСсылка.бит_СтатьиБюджета"));
	КонецЕсли; 
	
КонецПроцедуры // Выполнение()

&НаКлиенте
Процедура ОК(Команда)
	
	Если ПроверитьЗаполнение() Тогда
		ЗаполнитьПоСтатьеОборотов();
		ОповеститьОбИзменении(Тип("СправочникСсылка.бит_СтатьиБюджета"));
		Оповестить("бит_ЗаполнениеПоГруппеСтатейОборотов", Новый Структура("ГруппаСтатей", ГруппаСтатейОборотов));
		
		Закрыть();   
	КонецЕсли; 
	
КонецПроцедуры // ОК()

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

// Процедура заполняет статьи.
// 
&НаСервере
Процедура ЗаполнитьПоСтатьеОборотов()

	СправочникОбъект = РеквизитФормыВЗначение("Объект");
	
	СправочникОбъект.ЗаполнитьПоСтатьеОборотов(ГруппаСтатейОборотов, Бюджет,
		ГруппаСтатейБюджета, Коэффициент, ВыполнятьВТранзакции);   																						
   
КонецПроцедуры

#КонецОбласти

