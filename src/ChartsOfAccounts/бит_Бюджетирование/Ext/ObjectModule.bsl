#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)
	
	Если ТипЗнч(ДанныеЗаполнения) = Тип("Структура") Тогда
		
		Если ДанныеЗаполнения.Свойство("Родитель")
			И ЗначениеЗаполнено(ДанныеЗаполнения.Родитель) Тогда
			
			// Заполним по умолчанию значения из родителя.
			Вид            = ДанныеЗаполнения.Родитель.Вид;
			Забалансовый   = ДанныеЗаполнения.Родитель.Забалансовый;
			Количественный = ДанныеЗаполнения.Родитель.Количественный;
			Валютный       = ДанныеЗаполнения.Родитель.Валютный;
			
			ВидыСубконто.Загрузить(ДанныеЗаполнения.Родитель.ВидыСубконто.Выгрузить());
			
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры // ОбработкаЗаполнения()

Процедура ПередЗаписью(Отказ)
		
	Если ОбменДанными.Загрузка Тогда
		Возврат;			
	КонецЕсли; 
		
	бит_ук_СлужебныйСервер.РегистрацияНачалоСобытия(Отказ, ДополнительныеСвойства);
	
	МаскаКода = РегистрыСведений.бит_МаскиКодов.ПолучитьМаскуКодаПланаСчетов("бит_Бюджетирование");
	Порядок   = РегистрыСведений.бит_МаскиКодов.ПолучитьПорядокКодаПоМаскеКода(МаскаКода, Код);
	
	Если НЕ ЗначениеЗаполнено(КодБыстрогоВыбора) Тогда
		КодБыстрогоВыбора = бит_БухгалтерияКлиентСервер.ПолучитьКодБыстрогоДоступа(Код);
	КонецЕсли;
	
КонецПроцедуры // ПередЗаписью()
	
Процедура ПриЗаписи(Отказ)
		
	Если ОбменДанными.Загрузка Тогда
		Возврат;			
	КонецЕсли; 
		
	бит_ук_СлужебныйСервер.РегистрацияПриЗаписи(Отказ, ДополнительныеСвойства, Метаданные().ПолноеИмя());
		
КонецПроцедуры // ПриЗаписи()

#КонецОбласти

#КонецЕсли
