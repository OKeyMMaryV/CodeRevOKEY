
#Область ОбработчикиСобытий

// Процедура - обработчик команды.
// 
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	Если ПараметрКоманды = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Если ТипЗнч(ПараметрыВыполненияКоманды.Источник) = Тип("УправляемаяФорма") Тогда
		
		// Если в параметрах формы присутствует ключ "РежимВыбора", понимается 
		// что обработка команды происходит из формы списка или выбора.
		ОткрытиеИзФормыСписка = ?(ПараметрыВыполненияКоманды.Источник.Параметры.Свойство("РежимВыбора"), Истина, Ложь);
		
	Иначе
		ОткрытиеИзФормыСписка = Ложь;
	КонецЕсли;
	
	ПараметрыФормы = Новый Структура;
	ПараметрыФормы.Вставить("ДокументСсылка"	   , ПараметрКоманды);
	ПараметрыФормы.Вставить("ОткрытиеИзФормыСписка", ОткрытиеИзФормыСписка);
	
	Если ТекущийРежимЗапуска() = РежимЗапускаКлиентскогоПриложения.УправляемоеПриложение Тогда
		
		ОткрытьФорму("Обработка.бит_РезультатПроведения.Форма"
					,ПараметрыФормы
					,ПараметрыВыполненияКоманды.Источник
					,ПараметрыВыполненияКоманды.Источник.УникальныйИдентификатор
					,ПараметрыВыполненияКоманды.Окно);
	Иначе
		
		Форма = ПолучитьФорму("Обработка.бит_РезультатПроведения.Форма"
							 ,ПараметрыФормы
							 ,ПараметрыВыполненияКоманды.Источник 
							 ,ПараметрыВыполненияКоманды.Источник.УникальныйИдентификатор
							 ,ПараметрыВыполненияКоманды.Окно);
		Форма.Открыть();
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
