
#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
#Область ОбработчикиСобытий
Процедура ОбработкаПроведения(Отказ, РежимПроведения)
	Если ДолгиСотрудника.Итог("СуммаЗачета")<>ДолгиКомпании.Итог("СуммаЗачета") Тогда
		Отказ = Истина;
		ТекстСообщения = "Сумма долгов сотрудника, указанная в документе, не равна сумме выбранных долгов компании. Документ не будет проведен.";
		ОбщегоНазначения.СообщитьПользователю(ТекстСообщения,,,,);
	КонецЕсли;
	Если Отказ Тогда
		Возврат;
	КонецЕсли;
		
	ок_ВзаиморасчетыСПодотчетнымиЛицами.СформироватьДвиженияПоРегиструВзаиморасчетыСПодотчетнымиЛицами(ЭтотОбъект,Отказ, РежимПроведения);
КонецПроцедуры

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	//ОКЕЙ Дмитриева В.В. (ПервыйБИТ) Начало 2021-05-20 (#ТП_БП05_ФР12, #ТП_БП05_ФР13)
	Если ТипЗнч(ДанныеЗаполнения) = Тип("ДокументСсылка.АвансовыйОтчет") Тогда                      
		Организация       = ДанныеЗаполнения.Организация;
		ПодотчетноеЛицо   = ДанныеЗаполнения.ФизЛицо; 		
		Валюта            = ДанныеЗаполнения.ВалютаДокумента; 
		ДокументОснование = ДанныеЗаполнения.Ссылка;
	КонецЕсли;
	ЗаполнениеДокументов.Заполнить(ЭтотОбъект, ДанныеЗаполнения, Ложь);
	//ОКЕЙ Дмитриева В.В. (ПервыйБИТ) Конец 2021-05-20 (#ТП_БП05_ФР12, #ТП_БП05_ФР13)
КонецПроцедуры
#КонецОбласти

#КонецЕсли 
