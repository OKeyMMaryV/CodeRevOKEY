#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

Процедура ЗаполнениеПоОснованию(Объект, Основание, СтрокиТЧ) Экспорт 
	
	ЗаполнитьЗначенияСвойств(Объект, Основание, , "Комментарий");
	
	//////Если Не ЗначениеЗаполнено(Объект.УдалитьИжтиси_ВариантБюджета) Тогда
	//////	Объект.УдалитьИжтиси_ВариантБюджета    = Основание.Аналитика_3;
	//////КонецЕсли;
	
	Объект.СодержаниеЗатрат  = Основание.Комментарий;
	Объект.ДокументОснование = Основание.Ссылка;
	Объект.НомерЗаявки       = Основание.НомерЗаявки;
	Объект.Ответственный     = ПользователиКлиентСервер.ТекущийПользователь();
	//bit avseenkov 02.03.2015++
	Объект.Инициатор =  Основание.Инициатор;
	//--
	//Объект.НомерЗаявки      = СтрокаТЧ.Аналитика_1;
	//Объект.ВариантБюджета   = ?(ЗначениеЗаполнено(СтрокаТЧ.Аналитика_3),СтрокаТЧ.Аналитика_3,Основание.Аналитика_3);
	
	Для Каждого СтрокаТЧ Из СтрокиТЧ Цикл 
		ЗаполнитьЗначенияСвойств(Объект, СтрокаТЧ);
		
		Объект.Дата 			    = ?(Объект.Дата = '00010101',СтрокаТч.Период,Мин(Объект.Дата,СтрокаТЧ.Период));
		
		НоваяСтрока                 = Объект.База.Добавить();
		
		// Заполнение по-новому
		ЗаполнитьЗначенияСвойств(НоваяСтрока,СтрокаТЧ);
		
		// Заполнение по-старому
		НоваяСтрока.Период          = СтрокаТЧ.Период;
		
		Если СтрокаТЧ.Свойство("Аналитика_2") Тогда
			НоваяСтрока.Объект 			= СтрокаТЧ.Аналитика_2;
		КонецЕсли;
		Если СтрокаТЧ.Свойство("ЦФО") Тогда
			НоваяСтрока.ФункцияЦФО 		= СтрокаТЧ.ЦФО;
		КонецЕсли;
		Если СтрокаТЧ.Свойство("СтатьяОборотовНачисления") Тогда  		
			НоваяСтрока.СтатьяОборотов 	= СтрокаТЧ.СтатьяОборотовНачисления;
		КонецЕсли;
		
		НоваяСтрока.Сумма           = СтрокаТЧ.Сумма;
		НоваяСтрока.СуммаБезНДС     = СтрокаТЧ.СуммаБезНДС;
	КонецЦикла;
	
	Объект.РассчитатьСуммуДокумента();
КонецПроцедуры

#КонецЕсли