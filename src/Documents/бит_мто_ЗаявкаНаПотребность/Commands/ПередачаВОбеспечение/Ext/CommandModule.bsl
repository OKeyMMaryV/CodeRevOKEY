
#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)

	СтрВозврата = бит_мто.ПроверитьВозможностьСозданияДокумента(ПараметрКоманды);
	
	Если НЕ СтрВозврата.Возможно Тогда
		
		Если ЗначениеЗаполнено(СтрВозврата.ТекстСообщения) Тогда
		
			ТекстСообщения = СтрВозврата.ТекстСообщения;
			
		Иначе	
			ТекстСообщения =  НСтр("ru = 'Превышен остаток по номенклатуре!'");
		КонецЕсли; 
		
		бит_ОбщегоНазначенияКлиентСервер.ВывестиСообщение(ТекстСообщения);
		Возврат;
		
	КонецЕсли; 
	
	Если бит_мто.ЭтоУслуга(ПараметрКоманды) Тогда
		
		ТекстСообщения =  НСтр("ru = 'Запрещено создавать документ ""Передача в обеспечение"" на основании заявки с видом операции ""Услуги""!'");
		бит_ОбщегоНазначенияКлиентСервер.ВывестиСообщение(ТекстСообщения);
		Возврат;
	
	КонецЕсли; 
	
	ПараметрыФормы = Новый Структура();
	ПараметрыФормы.Вставить("ДокументОснование", ПараметрКоманды);
	
	Если СтрВозврата.Возможно Тогда
	
		ОткрытьФорму("Документ.бит_мто_ПередачаВОбеспечениеСоСклада.ФормаОбъекта"
		              , ПараметрыФормы
					  , ПараметрыВыполненияКоманды.Источник
					  , ПараметрыВыполненияКоманды.Уникальность
					  , ПараметрыВыполненияКоманды.Окно);
		
	КонецЕсли;				  
					  
КонецПроцедуры

#КонецОбласти
