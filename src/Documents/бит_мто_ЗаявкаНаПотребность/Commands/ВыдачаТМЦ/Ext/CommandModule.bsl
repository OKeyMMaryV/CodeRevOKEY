
#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	СтрВозврата = бит_мто.ПроверитьВозможностьСозданияДокументаВыдачи(ПараметрКоманды);
	
	Если НЕ СтрВозврата.Возможно Тогда
		
		бит_ОбщегоНазначенияКлиентСервер.ВывестиСообщение(СтрВозврата.ТекстСообщения);
		Возврат;
		
	КонецЕсли; 
	
	Если бит_мто.ЭтоУслуга(ПараметрКоманды) Тогда
		
		ТекстСообщения =  НСтр("ru = 'Запрещено создавать документ ""Выдача ТМЦ"" на основании заявки с видом операции ""Услуги""!!'");
		бит_ОбщегоНазначенияКлиентСервер.ВывестиСообщение(ТекстСообщения);
		Возврат;
	
	КонецЕсли; 
	
	ПараметрыФормы = Новый Структура();
	ПараметрыФормы.Вставить("ДокументОснование", ПараметрКоманды);
	
	Если СтрВозврата.Возможно Тогда
	
		ОткрытьФорму("Документ.бит_мто_ВыдачаТМЦПоЗаявкамНаПотребность.ФормаОбъекта"
		              , ПараметрыФормы
					  , ПараметрыВыполненияКоманды.Источник
					  , ПараметрыВыполненияКоманды.Уникальность
					  , ПараметрыВыполненияКоманды.Окно);
		
	КонецЕсли;				  
	
КонецПроцедуры

#КонецОбласти


