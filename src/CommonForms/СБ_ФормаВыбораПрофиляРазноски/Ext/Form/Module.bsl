
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	ТаблицаПрофилей			= СБ_КазначействоСервер.ТаблицаПрофилейРазноски(Параметры.Организация);
	
	СБ_ПрофилиРазноски.Загрузить(ТаблицаПрофилей);
	ТекущийЭлементВСписке 	= СБ_ПрофилиРазноски.НайтиСтроки(Новый Структура("Код", Параметры.СБ_ПрофильРазноски));
	ТекущийЭлементВСписке 	= ?(ТекущийЭлементВСписке.Количество()=0, Неопределено, ТекущийЭлементВСписке[0].ПолучитьИдентификатор());
	Если ТекущийЭлементВСписке = Неопределено И СБ_ПрофилиРазноски.Количество()<>0 Тогда
		ТекущийЭлементВСписке = СБ_ПрофилиРазноски[0].ПолучитьИдентификатор();
	КонецЕсли; 
	
	Элементы.СБ_ПрофилиРазноски.ТекущаяСтрока = ТекущийЭлементВСписке;
КонецПроцедуры

&НаКлиенте
Процедура ОК(Команда)
	ТекущиеДанные = Элементы.СБ_ПрофилиРазноски.ТекущиеДанные;
	Если ТекущиеДанные = Неопределено Тогда 
		Возврат
	КонецЕсли;
	
	СтруктураВозврата = Новый Структура("Код, Наименование", ТекущиеДанные.Код, ТекущиеДанные.Наименование);
	Закрыть(СтруктураВозврата);
КонецПроцедуры

&НаКлиенте
Процедура СБ_ПрофилиРазноскиВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	ТекущиеДанные = Элементы.СБ_ПрофилиРазноски.ТекущиеДанные;
	СтруктураВозврата = Новый Структура("Код, Наименование", ТекущиеДанные.Код, ТекущиеДанные.Наименование);
	Закрыть(СтруктураВозврата);
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	Закрыть(Неопределено);
КонецПроцедуры
