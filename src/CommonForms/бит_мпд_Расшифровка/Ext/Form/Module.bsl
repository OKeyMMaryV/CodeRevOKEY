
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	 Режим = "";
	 Параметры.Свойство("Режим", Режим);
	 
	 Если Режим = "РасшифровкаОбъекта" Тогда
	 
	 	Макет = ПолучитьОбщийМакет("бит_мпд_РасшифровкаОбъекта");
		Обл = Макет.ПолучитьОбласть("Заголовок");
		Результат.Вывести(Обл);
		Обл = Макет.ПолучитьОбласть("Шапка");
		Результат.Вывести(Обл);
		
		Обл = Макет.ПолучитьОбласть("Строка");
		
		Для каждого КиЗ Из Параметры.ДанныеОбъекта.Объект Цикл
			
			Если ЭтоИД(КиЗ.Значение) Тогда
				
				// ИД не выводим, чтобы не пугать пользователей.
				Продолжить;
			
			КонецЕсли; 
			
			Обл.Параметры.ИмяПоля = КиЗ.Ключ;
			Обл.Параметры.ЗначениеПоля = КиЗ.Значение;
			Результат.Вывести(Обл);
		
		КонецЦикла; 
	 
	 КонецЕсли; 
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

// Функция определяет не является ли данное значение GUID.
// 
// Параметры:
//   вхЗначение - Произвольный
// 
// Возвращаемое значение:
//  флЭтоИД - Булево.
// 
&НаСервере
Функция ЭтоИД(вхЗначение)

	флЭтоИД = Ложь;
	
	Если ТипЗнч(вхЗначение) = Тип("Строка") Тогда
	
		Попытка
		
			ИД = Новый УникальныйИдентификатор(вхЗначение);
			флЭтоИД = Истина;
		
		Исключение
		
		КонецПопытки;
	
	КонецЕсли; 

	Возврат флЭтоИД;
	
КонецФункции // ЭтоИД()

#КонецОбласти
