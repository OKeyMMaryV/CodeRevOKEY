
#Область ОбработчикиСобытийЭлементовШапкиФормы

// Процедура - обработчик события "ПриИзменении" поля ввода "Настройка".
// 
&НаКлиенте
Процедура НастройкаПриИзменении(Элемент)
	
	УстановитьВидимостьДоступность();
	
КонецПроцедуры // НастройкаПриИзменении()

// Процедура - обработчик события "ПриСозданииНаСервере" формы.
// 
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	МетаданныеОбъекта = Метаданные.РегистрыСведений.бит_вго_НастройкиПроведенияСверкиВГО;
	
	// Вызов механизма защиты
    	
	
	бит_РаботаСДиалогамиСервер.ФормаЗаписиРегистраПриСозданииНаСервере(Отказ, СтандартнаяОбработка, ЭтотОбъект);

	Если Отказ Тогда
		Возврат;	
	КонецЕсли;
	
	фКэшЗначений = Новый Структура;
	фКэшЗначений.Вставить("ВалютаУпрлУчета", Константы.бит_ВалютаУправленческогоУчета.Получить());
	УстановитьВидимостьДоступность();
		
КонецПроцедуры // ПриСозданииНаСервере()

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

// Процедура устанавливает видимость и доступность элементов формы.
// 
// Параметры:
//  Нет
// 
&НаСервере
Процедура УстановитьВидимостьДоступность()

	Если Запись.Настройка = ПланыВидовХарактеристик.бит_вго_ВидыНастроекСверкиВГО.ДопустимоеРасхождение Тогда
	
		Элементы.ДекорацияДоп.Видимость = Истина;
		Элементы.ДекорацияДоп.Заголовок = фКэшЗначений.ВалютаУпрлУчета;
		
	Иначе
		
		Элементы.ДекорацияДоп.Видимость = Ложь;
		
	КонецЕсли;

КонецПроцедуры // УстановитьВидимостьДоступность()

#КонецОбласти

