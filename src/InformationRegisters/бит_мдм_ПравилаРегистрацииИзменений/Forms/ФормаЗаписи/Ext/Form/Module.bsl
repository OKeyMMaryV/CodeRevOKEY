#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	бит_РаботаСДиалогамиСервер.ФормаЗаписиРегистраПриСозданииНаСервере(Отказ, СтандартнаяОбработка, ЭтотОбъект);

	УстановитьВидимость();
	
КонецПроцедуры // ПриСозданииНаСервере()

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ПриемникПриИзменении(Элемент)
	
	 ИзменениеПриемника();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ИзменениеПриемника()

	УстановитьВидимость();
	
	Если ЭтоРегистрСведений() Тогда
	
		 Запись.РежимИзменения = Перечисления.бит_мдм_РежимыИзменения.Обычный;
	
	КонецЕсли; 

КонецПроцедуры // ИзменениеПриемника()

// Функция определяет является ли приемник регистром сведений.
//
// Возвращаемое значение:
//  флЭтоРегистрСведений - Булево.
//
&НаСервере
Функция ЭтоРегистрСведений()

	флЭтоРегистрСведений = ?(Запись.Приемник.Вид = Перечисления.бит_мдм_ВидыОбъектовОбмена.РегистрСведений, Истина, Ложь);
	

	Возврат флЭтоРегистрСведений;
	
КонецФункции // ЭтоРегистрСведений()

// Процедура устанавливает видимость/доступность элементов формы. 
//
&НаСервере
Процедура УстановитьВидимость()

	флЭтоРегистрСведений = ЭтоРегистрСведений();
	Элементы.РежимИзменения.Доступность = НЕ флЭтоРегистрСведений;

КонецПроцедуры // УстановитьВидимость()

#КонецОбласти
