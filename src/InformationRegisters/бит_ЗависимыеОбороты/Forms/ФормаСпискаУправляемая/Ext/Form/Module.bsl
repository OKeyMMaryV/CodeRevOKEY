
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	МетаданныеОбъекта = Метаданные.РегистрыСведений.бит_ЗависимыеОбороты;
	
    // Вызов механизма защиты
    
	
	бит_РаботаСДиалогамиСервер.ФормаСпискаРегистраПриСозданииНаСервере(Отказ, СтандартнаяОбработка, ЭтотОбъект);
	
	Если Отказ Тогда
		Возврат;
	КонецЕсли;
	
	// Подготовим параметры, необходимые для отображения доп. измерений.
	НастройкиИзмерений = бит_ОбщиеПеременныеСервер.ЗначениеПеременной("бит_НастройкиДополнительныхИзмерений");	
	ИзмеренияДоп = бит_Бюджетирование.ПолучитьИзмеренияБюджетирования("Дополнительные","Синоним");
	
	СоответствиеИмен = Новый Соответствие;
	Для Каждого ТекЭлемент Из ИзмеренияДоп Цикл
		СоответствиеИмен.Вставить(ТекЭлемент.Ключ, 
									Новый Структура("ИмяПоля, Префикс, Постфикс", 
													ТекЭлемент.Ключ+"_Зависимый", "", " зависимый"));
	КонецЦикла;
	
    // Отобразим дополнительные измерения в табличном поле.
	бит_МеханизмДопИзмерений.ОтобразитьДополнительныеИзмеренияВТабличномПоле_Управляемая(ЭтаФорма
	                                                                          ,""
																			  ,ИзмеренияДоп
																			  ,НастройкиИзмерений);
																			  
	бит_МеханизмДопИзмерений.ОтобразитьДополнительныеИзмеренияВТабличномПоле_Управляемая(ЭтаФорма
	                                                                         ,""
																			 ,ИзмеренияДоп
																			 ,НастройкиИзмерений
																			 ,СоответствиеИмен);
																			 
КонецПроцедуры // ПриСозданииНаСервере()

#КонецОбласти
