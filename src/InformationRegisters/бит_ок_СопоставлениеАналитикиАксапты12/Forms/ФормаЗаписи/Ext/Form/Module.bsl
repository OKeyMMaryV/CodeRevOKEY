&НаКлиенте
Процедура Тип1СПриИзменении(Элемент)
	
	ОграничитьТипАналитики();
	
КонецПроцедуры

&НаКлиенте
Процедура Тип1СНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	
	Если ЗначениеЗаполнено(Объект.Аналитика1С) Тогда
 		Если Вопрос("Значение аналитики 1С не пустое, при изменении типа оно будет очищено. Продолжить?", РежимДиалогаВопрос.ОКОтмена) = КодВозвратаДиалога.Отмена Тогда
        	СтандартнаяОбработка = Ложь;
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ОграничитьТипАналитики();
КонецПроцедуры

&НаСервере
Процедура ОграничитьТипАналитики()
	ТипАналитики =  Объект.Тип1С.ТипЗначенияОбъекта.Получить();
	//izhtc-Kir 07.09.2015 (
	Если Найти(ТипАналитики, "набор записей") > 0 Тогда
		Возврат;
	КонецЕсли;
	//izhtc-Kir 07.09.2015 )
	Если ТипЗнч(ТипАналитики) = Тип("Тип") Тогда
		Массив = Новый Массив;
		Массив.Добавить(ТипАналитики);
		Элементы.Аналитика1С.ОграничениеТипа = Новый ОписаниеТипов(Массив);

		Значение = Объект.Аналитика1С;
		Объект.Аналитика1С = Элементы.Аналитика1С.ОграничениеТипа.ПривестиЗначение(Значение);
		Элементы.Аналитика1С.ВыбиратьТип = Ложь;
	Иначе
		Элементы.Аналитика1С.ОграничениеТипа = Новый ОписаниеТипов;
		
		Значение = Объект.Аналитика1С;
		Объект.Аналитика1С = Элементы.Аналитика1С.ОграничениеТипа.ПривестиЗначение(Значение);
		Элементы.Аналитика1С.ВыбиратьТип = Истина;
		
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура Тип1СОчистка(Элемент, СтандартнаяОбработка)
	
	Если ЗначениеЗаполнено(Объект.Аналитика1С) Тогда
 		Если Вопрос("Значение аналитики 1С не пустое, при очистки типа оно будет очищено. Продолжить?", РежимДиалогаВопрос.ОКОтмена) = КодВозвратаДиалога.Отмена Тогда
        	СтандартнаяОбработка = Ложь;
		Иначе
			Объект.Аналитика1С = Неопределено;
		КонецЕсли;
	КонецЕсли;

КонецПроцедуры

&НаКлиенте
Процедура Аналитика1СОбработкаВыбора(Элемент, ВыбранноеЗначение, СтандартнаяОбработка)
	// Вставить содержимое обработчика.
КонецПроцедуры
