
#Область ОбработчикиСобытийФормы

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	Заголовок = "История изменения реквизита """ + ПредставлениеРеквизита + """ для """ + Объект + """";
	
КонецПроцедуры // ПриОткрытии()

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Параметры.Свойство("Объект"				   , Объект);
	Параметры.Свойство("ИмяРеквизита"		   , ИмяРеквизита);
	Параметры.Свойство("ПредставлениеРеквизита", ПредставлениеРеквизита);
	
КонецПроцедуры // ПриСозданииНаСервере()

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура РегистрСписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	ТекущиеДанные = Элементы.РегистрСписок.ТекущиеДанные;
	
	Если ТекущиеДанные <> Неопределено И ЭтаФорма.ВладелецФормы <> Неопределено Тогда
		
		Если ТипЗнч(ЭтаФорма.ВладелецФормы) = Тип("УправляемаяФорма") Тогда
		 	ОбъектВладелец 		= ЭтаФорма.ВладелецФормы.Объект;
			ЕстьРеквизитОбъекта = ОбъектВладелец.Свойство(ИмяРеквизита);
		Иначе
			ОбъектВладелец 		= ЭтаФорма.ВладелецФормы.СправочникОбъект;
			ЕстьРеквизитОбъекта = ОбъектВладелец.Метаданные().Реквизиты.Найти(ИмяРеквизита) <> Неопределено;
		КонецЕсли;
				
		Если ЕстьРеквизитОбъекта Тогда
			ОбъектВладелец[ИмяРеквизита] = ТекущиеДанные.ЗначениеРеквизита;
		КонецЕсли; 
		
	КонецЕсли;
	
КонецПроцедуры // РегистрСписокВыбор()

#КонецОбласти
